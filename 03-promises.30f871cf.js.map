{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAGA,MAAMC,EAASC,SAASC,cAAc,SACtCF,EAAOG,iBAAiB,SAIxB,SAAoBC,GACpBC,EAAKD,EAAGE,OAAOC,OAASH,EAAGE,OAAOE,K,IAJlCR,EAAOG,iBAAiB,UAOxB,SAAsBC,GACpBA,EAAGK,iBACH,MAAOC,MAAAC,EAAKC,KAAEA,EAAIC,OAAEA,GAAUR,EAE5B,IAAK,IAAIS,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAAE,CAIhCC,EAAcD,EAFHH,GAASG,EAAI,GAAKF,GAEFI,MAAK,EAACC,SAAEA,EAAQP,MAAEA,MAEzCZ,EAAAoB,OAAOC,QAAQ,uBAAqBF,QAAiBP,MAAU,IAE9DU,OAAM,EAACH,SAAEA,EAAQP,MAAEA,MAChBZ,EAAAoB,OAAOG,QAAQ,sBAAoBJ,QAAiBP,MAAU,G,CAG5EN,EAAGE,OAAOgB,O,IArBZ,MAAMjB,EAAO,GAwBb,SAASU,EAAcE,EAAUP,GAC/B,MAAMa,EAAgBC,KAAKC,SAAW,GACpC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACzBC,YAAW,KACHN,GACAI,EAAQ,C,SAAEV,E,MAAUP,IAExBkB,EAAO,C,SAAEX,E,MAAUP,GAAQ,GAC5BA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n\nconst formEl = document.querySelector('.form');\nformEl.addEventListener('input', selectData);\nformEl.addEventListener('submit', onFormSubmit);\n\nconst data = {};\nfunction selectData(el){\ndata[el.target.name] = +el.target.value\n};\n\nfunction onFormSubmit(el){\n  el.preventDefault();\n  const {delay, step, amount} = data\n  \n    for (let i = 1; i <= amount; i += 1){\n      \n    let newDelay = delay + (i - 1) * step\n        \n        createPromise(i, newDelay).then(({ position, delay }) => {\n        \n            Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n        })\n            .catch(({ position, delay }) => {\n                Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n            });\n    };\n  el.target.reset()\n};\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n    return new Promise((resolve, reject) => {\n        setTimeout(() => {\n            if (shouldResolve) {\n                resolve({ position, delay })\n            }\n            reject({ position, delay })\n        }, delay)\n    });\n};\n\n\n//  -------  проміси \n// const promise = new Promise((resolve, reject) => {\n//   const canFulfill = Math.random() > 0.5;\n//   if (canFulfill) {\n//     resolve('виповнено fulfilled');\n//   }\n//   reject('помилка rejected');\n// });\n//     метод then є у проміса на прототипі і так можна у зовнішньому коді отримтаи результат промісу\n// const promise = new Promise((resolve, reject) => {\n//   const canFulfill = Math.random() > 0.5;\n//   setTimeout(() => {\n//     if (canFulfill) {\n//       resolve('виповнено fulfilled');\n//     }\n//     reject('помилка rejected');\n//   }, 2000);\n// });\n\n// console.log(promise);\n\n\n// // планування якщо проміс успішний -  із resolve запишеться у параметр result  виконується ця функція, неуспішний - reject запишеться у параметр error\n// promise.then(result => {\n//   console.log(result)\n// }, error => {\n//   console.log(error);\n// },\n// );\n// // або зовнішніми функціями \n// promise.then(onFulfilled, onRejected);\n\n// function onFulfilled(result) {\n//   console.log('onFulfilled -> onFulfilled');\n\n// };\n// function onRejected(error) {\n//   console.log('onRejected -> onRejected');\n// };"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","addEventListener","el","$47d4ff9957288465$var$data","target","name","value","preventDefault","delay","delay1","step","amount","i","$47d4ff9957288465$var$createPromise","then","position","Notify","success","catch","failure","reset","shouldResolve","Math","random","Promise","resolve","reject","setTimeout"],"version":3,"file":"03-promises.30f871cf.js.map"}